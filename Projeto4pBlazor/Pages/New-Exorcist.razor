@page "/New-Exorcist"
@using Microsoft.AspNetCore.Components

<PageTitle>New Exorcist</PageTitle>

<div class="min-h-screen bg-black text-purple-800">
    <form class="max-w-sm mx-auto pt-12 pb-12">
        <div class="mb-4">
            <label for="xid" class="block text-white text-sm font-bold mb-2">XID:</label>
            <input id="xid" maxlength="4" 
                   @bind="Xid"
                   @oninput="OnXidInput"
                   class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-100 leading-tight focus:outline-none focus:shadow-outline uppercase" 
                   placeholder="INSERT YOUR XID" 
                   required />
        </div>

        <div class="mb-4">
            <label for="name" class="block text-white text-sm font-bold mb-2">Name:</label>
            <input id="name" 
                   @bind="Name"
                   @oninput="UpdateTexts"
                   class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-100 leading-tight focus:outline-none focus:shadow-outline" 
                   placeholder="ENTER YOUR NAME" 
                   required />
        </div>

        <div class="mb-4">
            <label for="age" class="block text-white text-sm font-bold mb-2">Age:</label>
            <input id="age" 
                   @bind="Age" 
                   @oninput="UpdateTexts"
                   class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-100 leading-tight focus:outline-none focus:shadow-outline" 
                   placeholder="ENTER YOUR AGE" 
                   required />
        </div>

        <div class="mb-4">
            <label for="agenda" class="block text-white text-sm font-bold mb-2">Agenda:</label>
            <select id="agenda" 
                    @bind="Agenda"
                    @bind:event="onchange"
                    class="bg-black shadow appearance-none border rounded w-full py-2 px-3 text-gray-100 leading-tight focus:outline-none focus:shadow-outline" 
                    required>
                <option value="">Select your Agenda</option>

            </select>
            
            @if (!string.IsNullOrEmpty(AgendaText))
            {
                <div class="mt-2 p-2 bg-gray-800 text-purple-300 rounded text-sm">
                    @AgendaText
                </div>
            }
        </div>

        <div class="mb-6">
            <label for="blasphemy" class="block text-white text-sm font-bold mb-2">Blasphemy:</label>
            <select id="blasphemy"
                    @bind="Blasphemy"
                    @bind:event="onchange"
                    class="bg-black shadow appearance-none border rounded w-full py-2 px-3 text-gray-100 leading-tight focus:outline-none focus:shadow-outline" 
                    required>

                <option value="">Select your Blasphemy</option>

            </select>
            
            @if (!string.IsNullOrEmpty(BlasphemyText))
            {
                <div class="mt-2 p-2 bg-gray-800 text-purple-300 rounded text-sm">
                    @BlasphemyText
                </div>
            }
        </div>

        @if (ShowProfileSummary())
        {
            <div class="mt-6 p-4 border border-purple-600 rounded-lg bg-gray-900 text-purple-200">
                <h3 class="font-bold text-lg mb-2">Exorcist Profile Summary:</h3>
                <p><span class="font-semibold">XID:</span> @Xid</p>
                <p><span class="font-semibold">Name:</span> @Name</p>
                <p><span class="font-semibold">Age:</span> @Age</p>
                <p><span class="font-semibold">Agenda:</span> @Agenda - @AgendaText</p>
                <p><span class="font-semibold">Blasphemy:</span> @Blasphemy - @BlasphemyText</p>
            </div>
        }
    </form>
</div>

@code {
    private string Xid = "";
    private string Name = "";
    private int? Age;
    private string _agenda = "";
    private string _blasphemy = "";
    private string Agenda
    {
        get => _agenda;
        set
        {
            _agenda = value;
            UpdateTexts(); // Atualiza o texto relacionado automaticamente
        }
    }

    private string Blasphemy
    {
        get => _blasphemy;
        set
        {
            _blasphemy = value;
            UpdateTexts(); // Atualiza o texto relacionado automaticamente (aham)
        }
    }
    private string AgendaText = "";
    private string BlasphemyText = "";

    private void OnXidInput(ChangeEventArgs e)
    {
        Xid = e.Value?.ToString()?.ToUpper() ?? string.Empty;
        UpdateTexts();
    }

    private bool ShowProfileSummary()
    {
        return !string.IsNullOrEmpty(Xid) && 
               !string.IsNullOrEmpty(Name) && 
               Age.HasValue &&
               !string.IsNullOrEmpty(Agenda) && 
               !string.IsNullOrEmpty(Blasphemy);
    }

    private void UpdateTexts()
    {
        AgendaText = GetAgendaText(Agenda);
        BlasphemyText = GetBlasphemyText(Blasphemy);
        StateHasChanged();
    }
    private string GetAgendaText(string agenda)
    {
        return agenda switch
        {


            _ => ""
        };
    }

    private string GetBlasphemyText(string blasphemy)
    {
        return blasphemy switch
        {
 
            _ => ""
        };
    }
} 

Falta: Poderes de Agenda e Blasphemy / Exportação de JSON 
